{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Downloads\\\\full\\\\src\\\\pages\\\\Private\\\\Point\\\\point_item\\\\pointItem.js\",\n  _s = $RefreshSig$();\nimport classNames from 'classnames/bind';\nimport styles from \"./point_item.module.scss\";\nimport Semester__body from \"../semester_container\";\nimport Footer_Semester_Point from \"./footer_semester_item\";\nimport { useState, useEffect } from 'react';\nimport { database, ref, child, get } from \"../../../Login\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(styles);\nfunction PointItem() {\n  _s();\n  const [show, setshow] = useState(false);\n  const dbRef = ref(database);\n  const [courses, setCourses] = useState([]);\n  useEffect(() => {\n    const fetchData = () => {\n      let standardizeEmail = localStorage.getItem('standardizeEmail');\n      get(child(dbRef, `accounts/${standardizeEmail}/score/semester`)).then(snapshot => {\n        if (snapshot.exists()) {\n          let semesterArray = [];\n          for (let i = 0; i < snapshot.size; i++) {\n            const newCourses = [];\n            for (let j = 0; j < snapshot.child(`${i}/Ten_MH`).size; j++) {\n              newCourses.push({\n                Ma_MH: snapshot.child(`${i}/Ma_MH`).val()[j],\n                Ten_MH: snapshot.child(`${i}/Ten_MH`).val()[j],\n                Nhom_MH: snapshot.child(`${i}/Nhom_MH`).val()[j],\n                TinChi_MH: snapshot.child(`${i}/Tinchi_MH`).val()[j],\n                Diem_MH: snapshot.child(`${i}/Diem_MH`).val()[j],\n                DiemCK_MH: snapshot.child(`${i}/DiemCK_MH`).val()[j],\n                DiemTk_MH: snapshot.child(`${i}/DiemTK_MH`).val()[j]\n              });\n            }\n            semesterArray.push(newCourses);\n          }\n          setCourses(semesterArray);\n          setshow(true);\n        }\n      });\n    };\n    fetchData();\n  }, []);\n  let fullnumber = 0;\n  let fulldiemtb = 0;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: courses.map((semester, index) => {\n      let newfull = fullnumber * fulldiemtb;\n      fullnumber = semester.reduce((result, course) => {\n        return result + Number(course.TinChi_MH);\n      }, fullnumber);\n      let semesternumber = semester.reduce((result, course) => {\n        return result + Number(course.TinChi_MH);\n      }, 0);\n      let diemtbhk = (parseFloat(semester.reduce((result, course) => {\n        return result + Number(course.TinChi_MH) * Number(course.DiemTk_MH);\n      }, 0)) / parseFloat(semesternumber)).toFixed(1);\n      fulldiemtb = (parseFloat(newfull + diemtbhk * semesternumber) / fullnumber).toFixed(1);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cx('point__body'),\n          children: [show && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cx('block__semester'),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: cx('semester__header'),\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"H\\u1ECDc k\\u1EF3 \", index + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: cx('time-Upload'),\n                children: \"Ng\\xE0y c\\u1EADp nh\\u1EADt \\u0111i\\u1EC3m c\\xE1c m\\xF4n h\\u1ECDc: 20/03/2024 4:52:57 PM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\n              /*#__PURE__*/\n              // eslint-disable-next-line\n              _jsxDEV(Semester__body, {\n                list: semester\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 49\n              }, this),\n              /*#__PURE__*/\n              // eslint-disable-next-line\n              _jsxDEV(Footer_Semester_Point, {\n                fullnumber: fullnumber,\n                semesternumber: semesternumber,\n                diemtbhk: diemtbhk,\n                fulldiemtb: fulldiemtb\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this), !show && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cx('loadding'),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: cx('loadding-icon'),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: cx('iconload', 'fa-solid', 'fa-spinner')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this);\n    })\n  }, void 0, false);\n}\n_s(PointItem, \"xs6thgkFNkM2aXttqs3pIifSu2I=\");\n_c = PointItem;\nexport default PointItem;\nvar _c;\n$RefreshReg$(_c, \"PointItem\");","map":{"version":3,"names":["classNames","styles","Semester__body","Footer_Semester_Point","useState","useEffect","database","ref","child","get","jsxDEV","_jsxDEV","Fragment","_Fragment","cx","bind","PointItem","_s","show","setshow","dbRef","courses","setCourses","fetchData","standardizeEmail","localStorage","getItem","then","snapshot","exists","semesterArray","i","size","newCourses","j","push","Ma_MH","val","Ten_MH","Nhom_MH","TinChi_MH","Diem_MH","DiemCK_MH","DiemTk_MH","fullnumber","fulldiemtb","children","map","semester","index","newfull","reduce","result","course","Number","semesternumber","diemtbhk","parseFloat","toFixed","className","fileName","_jsxFileName","lineNumber","columnNumber","list","_c","$RefreshReg$"],"sources":["C:/Users/PC/Downloads/full/src/pages/Private/Point/point_item/pointItem.js"],"sourcesContent":["import classNames from 'classnames/bind';\r\nimport styles from './point_item.module.scss';\r\nimport Semester__body from '../semester_container';\r\nimport Footer_Semester_Point from './footer_semester_item';\r\nimport { useState, useEffect } from 'react';\r\nimport { database, ref, child, get } from '~/pages/Login';\r\n\r\nconst cx = classNames.bind(styles);\r\nfunction PointItem() {\r\n    const [show, setshow] = useState(false);\r\n    const dbRef = ref(database);\r\n    const [courses, setCourses] = useState([]);\r\n    useEffect(() => {\r\n        const fetchData = () => {\r\n            let standardizeEmail = localStorage.getItem('standardizeEmail');\r\n            get(child(dbRef, `accounts/${standardizeEmail}/score/semester`)).then((snapshot) => {\r\n                if (snapshot.exists()) {\r\n                    let semesterArray = [];\r\n                    for (let i = 0; i < snapshot.size; i++) {\r\n                        const newCourses = [];\r\n                        for (let j = 0; j < snapshot.child(`${i}/Ten_MH`).size; j++) {\r\n                            newCourses.push({\r\n                                Ma_MH: snapshot.child(`${i}/Ma_MH`).val()[j],\r\n                                Ten_MH: snapshot.child(`${i}/Ten_MH`).val()[j],\r\n                                Nhom_MH: snapshot.child(`${i}/Nhom_MH`).val()[j],\r\n                                TinChi_MH: snapshot.child(`${i}/Tinchi_MH`).val()[j],\r\n                                Diem_MH: snapshot.child(`${i}/Diem_MH`).val()[j],\r\n                                DiemCK_MH: snapshot.child(`${i}/DiemCK_MH`).val()[j],\r\n                                DiemTk_MH: snapshot.child(`${i}/DiemTK_MH`).val()[j],\r\n                            });\r\n                        }\r\n                        semesterArray.push(newCourses);\r\n                    }\r\n                    setCourses(semesterArray);\r\n                    setshow(true);\r\n                }\r\n            });\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n    let fullnumber = 0;\r\n    let fulldiemtb = 0;\r\n    return (\r\n        <>\r\n            {courses.map((semester, index) => {\r\n                let newfull = fullnumber * fulldiemtb;\r\n                fullnumber = semester.reduce((result, course) => {\r\n                    return result + Number(course.TinChi_MH);\r\n                }, fullnumber);\r\n                let semesternumber = semester.reduce((result, course) => {\r\n                    return result + Number(course.TinChi_MH);\r\n                }, 0);\r\n                let diemtbhk = (\r\n                    parseFloat(\r\n                        semester.reduce((result, course) => {\r\n                            return result + Number(course.TinChi_MH) * Number(course.DiemTk_MH);\r\n                        }, 0),\r\n                    ) / parseFloat(semesternumber)\r\n                ).toFixed(1);\r\n                fulldiemtb = (parseFloat(newfull + diemtbhk * semesternumber) / fullnumber).toFixed(1);\r\n                return (\r\n                    <div key={index}>\r\n                        <div className={cx('point__body')}>\r\n                            {show && (\r\n                                <div className={cx('block__semester')}>\r\n                                    <div className={cx('semester__header')}>\r\n                                        <h3>Học kỳ {index + 1}</h3>\r\n                                        <span className={cx('time-Upload')}>\r\n                                            Ngày cập nhật điểm các môn học: 20/03/2024 4:52:57 PM\r\n                                        </span>\r\n                                    </div>\r\n                                    {\r\n                                        <>\r\n                                            {\r\n                                                // eslint-disable-next-line\r\n                                                <Semester__body list={semester} />\r\n                                            }\r\n                                            {\r\n                                                // eslint-disable-next-line\r\n                                                <Footer_Semester_Point\r\n                                                    fullnumber={fullnumber}\r\n                                                    semesternumber={semesternumber}\r\n                                                    diemtbhk={diemtbhk}\r\n                                                    fulldiemtb={fulldiemtb}\r\n                                                />\r\n                                            }\r\n                                        </>\r\n                                    }\r\n                                </div>\r\n                            )}\r\n                            {!show && (\r\n                                <div className={cx('loadding')}>\r\n                                    <div className={cx('loadding-icon')}>\r\n                                        <i className={cx('iconload', 'fa-solid', 'fa-spinner')}></i>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </>\r\n    );\r\n}\r\nexport default PointItem;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}